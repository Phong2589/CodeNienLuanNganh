{{#if products}}
<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">STT</th>
            <th scope="col">Tên sản phẩm</th>
            <th scope="col">Giá</th>
            <th scope="col">Khôi phục</th>
            <th scope="col">Xóa vĩnh viễn</th>
        </tr>
    </thead>
    <tbody>
        {{#each products}}
        <tr>
            <th scope="row">{{sum @index 1}}</th>
            <td>{{this.name}}</td>
            <td><span class="number">{{this.cost}}</span></td>
            <td><a href="/admin/restoreproduct/{{this.slug}}"><button class="btn btn-primary">Khôi phục</button></a>
            </td>
            <td><button class="btn btn-danger" onclick="destroy('{{this.slug}}')">Xóa</button></td>
        </tr>
        {{/each}}
    </tbody>
</table>
{{else}}
<h3 class="mt-3 mb-3" style="text-align: center; color:rgb(194, 174, 230);">Không có sản phẩm nào bị xóa!</h3>
{{/if}}

<script>

    function destroy(slug) {
        Swal.fire({
            title: 'Bạm có chắc muốn xóa vĩnh viễn sản phẩm này?',
            text: "Bạn không thể khôi phục nếu tiếp tục!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Tiếp tục',
            cancelButtonText: 'Quay lại'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location = "/admin/destroy/" + slug;
            }
        })
    }

</script>